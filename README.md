# Counterfactual-Fairness-with-Partially-Known-Causal-Graph

This is the reproduction of the paper https://arxiv.org/abs/2205.13972.

To reproduce results on synthetic datasets, 
    run the file run.sh in the working directory.

Examples and more explanations on commands in run.sh:
- `python data_generator.py $j $((2*j))` to generate the observational and counterfactual data for the setting `(j)Node(2*j)Edge`;
- `Rscript main.R $j $((2*j)) $i` to fit the models using the data generated by the i_th causal graph in the setting `(j)Node(2*j)Edge`;
- `Rscript Simu_results_filter_and_processor.R` to obtain Table 1. Numeric results for RMSE and Unfairness.
- `Rscript Simu_filtered_Boxplot.R` to obtain Figure 1. Boxplot for RMSE and Unfairness.
- The resulting tables and boxplots can be found in the folder 'Repository'.

To reproduce results on real datasets,
        run `Rscript main_RealData_RMSE_and_Unfairness.R` to obtain Table 2;
        run `Rscript main_RealData_Density_plots.R` to obtain Figure 3.
